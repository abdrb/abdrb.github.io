<!DOCTYPE html>
<html lang="ar">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
<title>الساعة الفلكية الرقمية للمواسم في يافع</title>
<style type="text/css">
body {
	background-color: #000000;
	color: #ffffff;
	padding: 5px;
}
#space{
	position: absolute;
	border: 0px solid grey;
	top: 140px;
	left: 10px;
	width: 300px;
	height: 300px;
	text-align: center;
}
#sun {
    position: absolute;
    background-color: yellow;
    border-radius: 100%;
    border: solid 1px red;
    box-shadow: 0px 0px 10px red;
    width: 12px;
    height: 12px;
    top: 150px;
    left: 150px;
}
#lineW {
    position: absolute;
    background-color: grey;
    width: 100%;
    height: 0.5px;
    top: 156px;
    left: 0px;
}
#lineH {
    position: absolute;
    background-color: grey;
    width: 0.5px;
    height: 100%;
    top: 0px;
    left: 156px;
}

#jan {
    position: absolute;
    top: 0px;
    left: 42%;
    color: powderblue;
}
#apr {
    position: absolute;
    top: 52%;
    left: 1%;
    color: yellowgreen;
}
#jul {
    position: absolute;
    top: 94%;
    left: 52%;
    color: firebrick;
}
#oct {
    position: absolute;
    top: 44%;
    left: 90%;
    color: peru;
}

#mercuryOrbit {
    position: absolute;
    border: 0.5px solid grey;
    border-radius: 100%;
    width: 20%;
    height: 20%;
    top: 41%;
    left: 41%;

}
#mercuryShape {
    position: absolute;
    background-color: brown;
    border-radius: 100%;
    width: 8px;
    height: 8px;
    top: 48%;
    left: 95%;
}

.captions{
    color: white;
    font-size: 8px;
	text-align: left;
}


#venusOrbit {
    position: absolute;
    border: 0.5px solid grey;
    border-radius: 100%;
    width: 35%;
    height: 35%;
    top: 33%;
    left: 33%;
}
#venusShape {
    position: absolute;
    background-color: orange;
    border-radius: 100%;
    width: 10px;
    height: 10px;
    top: 49%;
    left: 95%;
}

#earthOrbit {
    position: absolute;
    border: 0.5px solid grey;
    border-radius: 100%;
    width: 50%;
    height: 50%;
    top: 25%;
    left: 25%;
}

#earthShape {
    position: absolute;
    background-color: blue;
    border-radius: 100%;
    width: 12px;
    height: 12px;
	top: 17%;
	left: 20%;
}

#moonOrbit {
    position: absolute;
    border: 0px solid red;
    border-radius: 100%;
    width: 20px;
    height: 20px;
    top: 0%;
    left: 0%;
}
#xy {
    position: absolute;
    border: 0px solid grey;
    width: 22px;
    height: 22px;
    top: 47%;
    left: 93%;
}
#moonShape {
    position: absolute;
    background-color: white;
    border-radius: 100%;
    width: 3px;
    height: 3px;
    top: 46%;
    left: 100%;
}

#marsOrbit {
    position: absolute;
    border: 0.5px solid grey;
    border-radius: 100%;
    width: 70%;
    height: 70%;
    top: 15%;
    left: 15%;
}
#marsShape {
    position: absolute;
    background-color: red;
    border-radius: 100%;
    width: 9px;
    height: 9px;
    top: 50.5%;
    left: 98%;
}

#jupiterOrbit {
    position: absolute;
    border: 0.5px solid grey;
    border-radius: 100%;
    width: 90%;
    height: 90%;
    top: 5%;
    left: 5%;
}
#jupiterShape {
    position: absolute;
    background-color: grey;
    border-radius: 100%;
    width: 13px;
    height: 13px;
    top: 49.5%;
    left: 97%;
}

.main{
position: absolute;
border-radius: 100%;
border: 0px solid gray;
top: 168px;
left: 39px;
width: 240px;
height: 240px;
}
.sub{
position: absolute;
background-color: #212121;
border-radius: 25%;
border: 0px solid blue;
width: 5px;
height: 5px;
top: 0px;
left: 0px;
color: white;
font-size: 8px;
}

#draw{
position: absolute;
left: 20px;
}

#now {
	display: none;
}
#pauseBtn {
	display: none;
	width: 30px;
	height: 30px;
	transform: rotate(90deg);
}

#clockTime {
	position: absolute;
	top: 50px;
	left: 30px;
	width: 300px;
	height: 300px;
	text-align: center;
}
#clock {
	position: absolute;
	top: 70px;
	left: 30px;
	width: 300px;
	height: 300px;
	text-align: center;
}
#title {
	position: absolute;
	top: 0px;
	left: 30px;
	width: 300px;
	height: 300px;
	text-align: center;
}
#pause {
	position: absolute;
	top: 500px;
	left: 30px;
	width: 300px;
	height: 300px;
	text-align: center;
}
#triangle {
position: absolute;
  width: 0; 
  height: 0; 
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 30px solid blue;
top: 50%;
left: 120%;	
}
#triangleB{
position: absolute;
width: 0; 
  height: 0; 
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent; 
  border-right:10px solid white; 
  top: 50%;
  left: -47%;	
}

#hlink{
margin: 10px;
}
</style>
</head>
<body onload="funcDraw()">
<h3 id="title">الساعة الفلكية الرقمية للمواسم في يافع</h3>
<div id="now">
</div>
<div id="clockTime"></div>
<div id="clock"></div>

<div id="draw">

<div id="space">
<div id="lineW"></div>
<div id="lineH"></div>
<div id="sun"></div>
<div id="jan">يناير</div>
<div id="apr">ابريل</div>
<div id="jul">يوليو</div>
<div id="oct">أكتوبر</div>

<div id="mercuryOrbit">
    <div id="mercuryShape" class="captions"><br>عطارد</div>
</div>

<div id="venusOrbit">
    <div id="venusShape" class="captions"><br>الزهرة</div>
</div>

<div id="earthOrbit" class="captions">
	<div id="xy"><div id="earthShape" class="captions"><br>الأرض</div>
	<div id="moonOrbit" class="captions">
		<div id="moonShape" class="captions"></div>
	</div></div>
	<div id="triangle"></div>
	<div id="triangleB"></div>
</div>

<div id="marsOrbit">
    <div id="marsShape" class="captions"><br>المريخ</div>
</div>

<div id="jupiterOrbit">
    <div id="jupiterShape" class="captions"><br>المشتري</div>
</div>

</div>


</div>
<div id="pause">
<button type="button" id="pauseBtn" onclick="pauseFunc()">∆</button>
	<div id="hlink">
	<a href="mailto:applichain@gmail.com">Email the Developer</a>
	</div>
</div>
</body>
<script type="text/javascript">
mm=7;dd=20;yy=2020;
stopToday=0;
pause=0;
moStart = 220;
eaStart = getDegreeEarth(0);
mqStart = 340;    
vnStart = 330;	      
mrStart = 330;	    
jpStart = 290;

jmo = moStart;
jea = eaStart;
jmq = mqStart;
jvn = vnStart;
jmr = mrStart;
jjp = jpStart;
days = document.getElementById("mnrot");
month = document.getElementById("rots");
earth = document.getElementById("earth");
venu = document.getElementById("ven");
merc = document.getElementById("mer");
mars = document.getElementById("mars");
jupit = document.getElementById("jupiter");
now = document.getElementById("now");
moon = document.getElementById("moon");
list = document.getElementById("list");

blue="<span style='color:royalblue;'>";
red="<span style='color:red;'>";
orange="<span style='color:orange;'>";
grey="<span style='color:grey;'>";
brown="<span style='color:brown;'>";
gold="<span style='color:gold;'>";
end="</span>";
pen=document.getElementById("draw");
pauseClick=document.getElementById("pauseBtn");
drawDiv="<div "
drawClose="> "
drawEnd=" </div> "
j=0;
a=['حادية','تاسعة','سابعة','بحري سابعة','بحري الصيف','الدلي','المنسرق','المية','التسعين','الثمانين','السبعين','لب','الثرياء','الثور','رسو الصيف','الظلم','عنابر القيظ','عنابر الخريف','المرزم','سهيل','قتور الشناح','القتور','قتور السراب','ثجر','لولين','الثالث','الرابع','الخامس','السادس','السابع','برد الثرياء','السقوط','رسو الشتاء','الرجوع'];

function funcDraw(){

i=33;k=0;r=0;
while(k<360){
if(k>20 && k<200){
pen.innerHTML += drawDiv +" class='main' id='div" + i + "'" + drawClose + drawDiv + " class='sub' id='sub" +i +"' style='color: mistyrose;'" + drawClose + a[i] + drawEnd+ drawEnd;
}
else{
pen.innerHTML += drawDiv +" class='main' id='div" + i + "'" + drawClose + drawDiv + " class='sub' id='sub" +i +"' style='color: lightcyan;'" + drawClose + a[i] + drawEnd+ drawEnd;
}
r=k+45;
document.getElementById("div"+i).style.transform = "rotate(" + r +"deg)";
document.getElementById("sub"+i).style.transform = "rotate(-" + r +"deg)";
k+=10.6;
i--;
}
document.getElementById("moonOrbit").style.transform = "rotate(-" + moStart +"deg)"; 
document.getElementById("mercuryOrbit").style.transform = "rotate(-" + vnStart +"deg)"; 
document.getElementById("venusOrbit").style.transform = "rotate(-" + mqStart +"deg)"; 
document.getElementById("earthOrbit").style.transform = "rotate(-" + eaStart +"deg)"; 
document.getElementById("marsOrbit").style.transform = "rotate(-" + mrStart +"deg)"; 
document.getElementById("jupiterOrbit").style.transform = "rotate(-" + jpStart +"deg)"; 
stopClear=setInterval(funcStopToday,1);
funcClockTime();
funcClock();
run();
}

function getDegreeEarth(a){
	if ((mm-1) == 0){deg = dd + 90+a;}
	else{deg = ((mm-1) * 30) + dd + 90+a;}
	while (deg > 360){deg -= 360}
	return Number(deg.toFixed(0));
}

multi=4;
function run(){
	eClear=setInterval(funcEarth,365.26/multi);
	vClear=setInterval(funcVenus,224.70/multi);
	mClear=setInterval(funcMerc,87.972/multi);
	sClear=setInterval(funcMars,686.98/multi);
	jClear=setInterval(funcJu,4331.9836/multi);
	oClear=setInterval(funcMoon,27.32);
}

function funcStopToday(){	
	date = new Date();
	mVal=Number(date.getMonth())+1;
	dVal=Number(date.getDate());
	yVal=Number(date.getFullYear());
	if ((stopToday == 0) && mVal==mm && dVal==dd && yVal==yy)
		{
		moStart=jmo;
		eaStart=jea;
		mqStart=jmq;
		vnStart=jvn;
		mrStart=jmr;
		jpStart=jjp;
		mm=mVal;dd=dVal;yy=yVal;
		clearInterval(eClear);
		clearInterval(vClear);
		clearInterval(mClear);
		clearInterval(sClear);
		clearInterval(jClear);
		clearInterval(oClear);
		stopToday=1;
		pauseClick.style.display = "initial";
		document.getElementById("mercuryShape").innerHTML = "<br>عطارد<br>" + u + "°";
		document.getElementById("venusShape").innerHTML = "<br>الزهرة<br>" + v + "°";
		document.getElementById("earthShape").innerHTML =  "الأرض";
		document.getElementById("marsShape").innerHTML = "<br>المريخ<br>" + r + "°";
		document.getElementById("jupiterShape").innerHTML = "<br>المشتري<br>" + j + "°";
		document.getElementById("moonShape").innerHTML = "القمر" ;
		}
}	

function pauseFunc(){
mValue=mm;dValue=dd;yValue=yy;
if(pause == 0){
multi=1;
pause=1;
run();
pauseClick.innerHTML="=";
}
else{
moStart=jmo;
eaStart=jea;
mqStart=jmq;
vnStart=jvn;
mrStart=jmr;
jpStart=jjp;
mm=mValue;dd=dValue;yy=yValue;
clearInterval(eClear);
clearInterval(vClear);
clearInterval(mClear);
clearInterval(sClear);
clearInterval(jClear);
clearInterval(oClear);
pause=0;
pauseClick.innerHTML="∆";
document.getElementById("mercuryShape").innerHTML = "<br>عطارد<br>" + u + "°";
document.getElementById("venusShape").innerHTML = "<br>الزهرة<br>" + v + "°";
document.getElementById("earthShape").innerHTML =  "الأرض";
document.getElementById("marsShape").innerHTML = "<br>المريخ<br>" + r + "°";
document.getElementById("jupiterShape").innerHTML = "<br>المشتري<br>" + j + "°";
document.getElementById("moonShape").innerHTML = "القمر" ; //+ n + "°";

}
}

function funcClockTime(){
	setInterval(function(){
	s=addZero(da.getSeconds());
	m=addZero(da.getMinutes());
	h=addZero(da.getHours());
	clockTime.innerHTML = h + ":" + m + ":" + s;
	}, (1000));
}

function funcClock(){
	setInterval(function(){
	t=addZero(mm);
	d=addZero(dd);
	y=yy;
	
	da = new Date();
	if(stopToday==0){
	mt=addZero(da.getMonth()+1);
	dy=addZero(da.getDate());
	yr=da.getFullYear();
	}
	else{
	mt=addZero(mm);
	dy=addZero(dd);
	yr=yy;
	}

	n=addDZero(jmo);
	u=addDZero(jmq);
	v=addDZero(jvn);
	e=addDZero(jea);
	r=addDZero(jmr);
	j=addDZero(jjp);
	
	if(stopToday==0){
	clock.innerHTML = d + "/" + t + "/" + y +"<br>"+ u +"°:"+ v +"°:" + e +"°:"+ r +"°:"+ j +"°" + "<br>" + n + "°";
	}
	else{
	clock.innerHTML = gold + dy + "/" + mt + "/" + yr + end + "<br>" + brown + u + end + "°:" + orange + v + end + "°:" + blue + e + end + "°:" + red + r + end + "°:" + grey + j + end + "°" + "<br>" + n + "°";;
	}
	if((multi==4 && stopToday==1 && Number(da.getDate())>Number(dd)) || (multi==4 && stopToday==1 && Number(da.getMonth()+1)>Number(mm)) || (multi==4 && stopToday==1 && Number(da.getFullYear())>Number(yy))){
	stopToday=0;
	run();
	}
	}, (1));
	}
	
function addZero(n){
	if(n<10){n="0"+n};
return n;
}
function addDZero(n){
	if(n<100){if(n<10){n="00"+n}else{n="0"+n}};
return n;
}
	
function funcMoon(){	
	jmo++;
	document.getElementById("moonShape").innerHTML = jmo + "°";
	document.getElementById("moonOrbit").style.transform = "rotate(-" + jmo +"deg)"; 
	document.getElementById("moonShape").style.transform = "rotate(" + jmo +"deg)"; 
	if (jmo == 360) 
	{
	jmo = 0;
	}
	
	if (jmo >= 175 && jmo <= 195)
	{
	document.getElementById("moon").style.color = "red";
	}
	else
	{
	document.getElementById("moon").style.color = "black";
	}
	
}

function funcEarth(){
	jea++;
	document.getElementById("earthShape").innerHTML = jea + "°";
	document.getElementById("earthOrbit").style.transform = "rotate(-" + jea + "deg)"; 
	document.getElementById("xy").style.transform = "rotate(" + jea + "deg)"; 
	dd += 1;
	if((dd==32 && mm==1) || (dd==32 && mm==3) || (dd==32 && mm==5) || (dd==32 && mm==7) || (dd==32 && mm==8) || (dd==32 && mm==10) || (dd==32 && mm==12) || (dd==29 && mm==2) || (dd==31 && mm==4) || (dd==31 && mm==6) || (dd==31 && mm==9) || (dd==31 && mm==11)){

	dd=1;
	mm += 1;
	if(mm==13){mm=1;yy += 1;}
	}
	now.innerHTML=dd+"/"+mm+"/"+yy;
	
	if (jea == 360) 
	{
	jea = 0;
	}
}

function funcVenus(){
	jvn++;
	document.getElementById("venusShape").innerHTML ="<br>الزهرة<br>" + jvn + "°";
	document.getElementById("venusOrbit").style.transform = "rotate(-" + jvn +"deg)"; 	
	document.getElementById("venusShape").style.transform = "rotate(" + jvn + "deg)"; 
	if (jvn == 360) 
	{
	jvn = 0;
	}
	if (jea >= jvn-10 && jea <= jvn+10)
	{
		document.getElementById("ven").style.color = "red";
	}
	else
	{
		document.getElementById("ven").style.color = "black";
	}
}
function funcMerc(){
	jmq++;
	document.getElementById("mercuryShape").innerHTML = "<br>عطارد<br>" + jmq + "°";
	document.getElementById("mercuryOrbit").style.transform = "rotate(-" + jmq +"deg)"; 
	document.getElementById("mercuryShape").style.transform = "rotate(" + jmq + "deg)"; 
	if (jmq == 360) 
	{
	jmq = 0;
	}
	
	if (jea >= jmq-15 && jea <= jmq+15)
	{
		document.getElementById("mer").style.color = "red";
	}
	else
	{
		document.getElementById("mer").style.color = "black";
	}
}

function funcMars(){	
	jmr++;
	document.getElementById("marsShape").innerHTML ="<br>المريخ<br>" + jmr + "°";
	document.getElementById("marsOrbit").style.transform = "rotate(-" + jmr +"deg)"; 
	document.getElementById("marsShape").style.transform = "rotate(" + jmr + "deg)"; 
	if (jmr == 360) 
	{
	jmr = 0;
	}
}

function funcJu(){	
	jjp++;
	document.getElementById("jupiterShape").innerHTML ="<br>المشتري<br>" + jjp + "°";
	document.getElementById("jupiterOrbit").style.transform = "rotate(-" + jjp +"deg)"; 
	document.getElementById("jupiterShape").style.transform = "rotate(" + jjp + "deg)"; 
	if (jjp == 360) 
	{
	jjp = 0;
	}
}
</script>
</html>